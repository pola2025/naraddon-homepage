{
  "name": "NARADDON Homepage (React + Node.js + MongoDB)",
  "image": "mcr.microsoft.com/devcontainers/universal:linux",
  "features": {
    "ghcr.io/devcontainers/features/node:1": {
      "version": "18"
    }
    // MongoDB Feature는 계속 제거된 상태여야 합니다.
  },
  "customizations": {
    "vscode": {
      "extensions": [
        "dbaeumer.vscode-eslint",
        "esbenp.prettier-vscode",
        "ms-azuretools.vscode-docker"
      ]
    }
  },
  "postCreateCommand": [
    "sudo apt-get update && sudo apt-get install -y mongodb-clients", // MongoDB 클라이언트만 설치 (mongosh 포함)
    "sudo mkdir -p /data/db", // MongoDB 기본 데이터 디렉토리 생성
    "sudo chown -R codespace:codespace /data/db", // 현재 사용자에게 권한 부여
    "nohup mongod --dbpath /data/db --port 27017 > mongod.log 2>&1 &", // 백그라운드에서 MongoDB 서버 직접 실행
    "echo 'MongoDB server started manually.'"
  ],
  "forwardPorts": [3000, 5000, 27017],
  "remoteUser": "codespace"
}